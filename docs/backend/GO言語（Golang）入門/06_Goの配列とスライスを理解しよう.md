---
title: Goの配列とスライスを理解しよう
slug: go-array-slice
---

Go言語では、配列とスライスを使用して複数の値を格納および操作できます。
配列は固定長のデータ構造であり、スライスは可変長のデータ構造です。
ここでは、Goの配列とスライスの基本的な使い方を説明します。

## 配列の宣言と初期化

```go
package main

import (
	"fmt"
)

func main() {
    // 配列の宣言と初期化
    // Goの配列は長さ変更できないため、サイズを指定する必要があります
	var scores [3]int

	scores[0] = 10
	scores[1] = 20
	scores[2] = 30

	fmt.Println(scores[0])
	fmt.Println(scores[1])
	fmt.Println(scores[2])
}
```

<ruby>リテラル<rt>literal</rt></ruby>を使用して配列の初期値をまとめて初期化することもできます。

```go
package main

import (
	"fmt"
)

func main() {
    // 配列の宣言と初期化（リテラルを使用）
	scores := [3]int{10, 20, 30}

	fmt.Println(scores[0])
	fmt.Println(scores[1])
	fmt.Println(scores[2])
}
```

## 長さ自動推論
Goでは、`...`で配列の長さを自動的に推論させることもできます。

```go
package main
import (
    "fmt"
)
func main() {
    // 配列の長さを自動推論
    scores := [...]int{10, 20, 30}

    fmt.Println(scores[0])
    fmt.Println(scores[1])
    fmt.Println(scores[2])
}
```

## 配列の繰り返し処理

繰り返し処理を使用して配列の要素にアクセスすることもできます。

### `for`ループを使った配列の繰り返し処理

```go
package main

import (
	"fmt"
)

func main() {
	scores := [3]int{10, 20, 30}

	for i := 0; i < len(scores); i++ {
		fmt.Println(scores[i])
	}
}

```

### `range`キーワードを使った配列の繰り返し処理
rangeキーワードを使用して、for分の代わりに、配列の要素に簡単にアクセスすることもできます。

```go
package main

import (
	"fmt"
)

func main() {
	scores := [3]int{10, 20, 30}

	for i, score := range scores {
		fmt.Println(i)
		fmt.Println(score)
	}
}

```

## 配列のコピー
Goの配列は値型であるため、配列を別の変数に代入すると、その配列のコピーが作成されます。（参照ではなく）

```go
x := [3]int{1,2,3}
y := x
y[0] = 9

fmt.Println(x) // [1 2 3]
fmt.Println(y) // [9 2 3]
```

## スライスの宣言と初期化
スライスは配列の柔軟なラッパーであり、動的にサイズを変更できます。
スライスの宣言と初期化は以下のように行います。
```go
package main
import (
    "fmt"
)
func main() {
    // スライスの宣言と初期化
    scores := []int{10, 20, 30}

    // スライスの要素にアクセス
    fmt.Println(scores[0])
    fmt.Println(scores[1])
    fmt.Println(scores[2])

    // スライスの長さと容量を取得
    fmt.Println("Length:", len(scores))
    fmt.Println("Capacity:", cap(scores))
}
```

## 配列 vs スライス（まとめ）
| 特徴         | 配列                     | スライス                     |
|--------------|--------------------------|------------------------------|
| サイズ       | 固定長                   | 可変長                       |
| 宣言方法     | `[n]Type`                | `[]Type`                     |
| メモリ管理   | 値型（コピーされる）     | 参照型（元の配列を指す） |
| 柔軟性       | 高くない                 | 高い                         |

Goの配列は固定長で値型です。
実務ではスライスを使いますが、配列はスライスの基礎です。

## 配列とスライスの練習問題
以下の要件を満たすGoプログラムを作成してください。
1. 配列`arr`を宣言し、初期値として`"go"`と`"lang"`を設定します。
2. 配列`arr`を別の変数`b`に代入します。
3. 変数`b`の最初の要素を`"hello"`に変更します。
4. 配列`arr`と変数`b`の内容をそれぞれ出力します。

```go
arr := [2]string{"go", "lang"}
b := arr
b[0] = "hello"

fmt.Println(arr)
fmt.Println(b)
```
